<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>My Lab ‚ù§Ô∏è</title>

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&family=Great+Vibes&display=swap" rel="stylesheet">

<style>
body{
  margin:0;
  font-family:'Poppins',sans-serif;
  background:
    linear-gradient(rgba(0,0,0,0.35), rgba(0,0,0,0.35)),
    url("images/mybackground.jpg") no-repeat center center fixed;
  background-size:cover;
  color:white;
  overflow:hidden;
}

/* LOADING */
#loading{
  position:fixed;
  width:100%;
  height:100%;
  background:rgba(0,0,0,0.85);
  display:flex;
  flex-direction:column;
  justify-content:center;
  align-items:center;
  z-index:999;
}
.loader-heart{
  font-size:70px;
  animation:heartbeat 1.2s infinite;
}
@keyframes heartbeat{
  0%,100%{transform:scale(1);}
  50%{transform:scale(1.3);}
}

/* GAME */
#game{
  display:none;
  height:100vh;
  display:flex;
  flex-direction:column;
  justify-content:center;
  align-items:center;
  text-align:center;
}
#game h2{
  font-family:'Great Vibes';
  font-size:48px;
  margin-bottom:10px;
}
#gameArea{
  position:relative;
  width:320px;
  height:220px;
}
#gameBtn{
  position:absolute;
  padding:14px 30px;
  border:none;
  border-radius:50px;
  background:linear-gradient(45deg,#ff4d88,#ff7aa8);
  color:white;
  font-weight:600;
  cursor:pointer;
  transition:0.25s;
}

/* MAIN APP */
#app{
  display:none;
  min-height:100vh;
  padding:40px 20px;
  overflow:auto;
  display:flex;
  justify-content:center;
}
.container{
  width:100%;
  max-width:900px;
}
.title{
  font-family:'Great Vibes';
  font-size:52px;
  text-align:center;
  margin-bottom:30px;
}
.section{
  background:rgba(255,255,255,0.08);
  backdrop-filter:blur(18px);
  border-radius:25px;
  padding:28px 35px;
  margin-bottom:25px;
  box-shadow:0 8px 30px rgba(0,0,0,0.3);
  transition:0.3s;
}
.section:hover{
  transform:translateY(-3px);
}

/* LETTER */
.letter{
  font-family:'Poppins', sans-serif;
  font-size:20px;
  line-height:1.7;
  max-height:300px;
  overflow-y:auto;
  padding:20px;
  border-radius:20px;
  background:rgba(255,255,255,0.05);
  box-shadow:0 5px 15px rgba(0,0,0,0.3);
}
.letter::-webkit-scrollbar{
  width:6px;
}
.letter::-webkit-scrollbar-thumb{
  background:rgba(255,77,136,0.6);
  border-radius:3px;
}
.letter::-webkit-scrollbar-track{
  background:transparent;
}

.counter{
  text-align:center;
  font-size:18px;
}
.counter span{
  font-size:24px;
  font-weight:600;
}

button{
  padding:14px 30px;
  border:none;
  border-radius:50px;
  background:linear-gradient(45deg,#ff4d88,#ff7aa8);
  color:white;
  font-weight:600;
  cursor:pointer;
  box-shadow:0 5px 15px rgba(255,77,136,0.4);
  transition:0.3s;
}
button:hover{
  transform:scale(1.07);
}

/* AUTO RATIO GALLERY */
.gallery{
  display:flex;
  gap:25px;
  overflow:hidden;
  align-items:center;
}
.photo{
  flex:0 0 auto;
}
.photo img{
  max-height:240px;
  width:auto;
  height:auto;
  border-radius:22px;
  background:rgba(255,255,255,0.05);
  padding:8px;
  box-shadow:0 8px 25px rgba(0,0,0,0.4);
  transition:0.4s ease;
}
.photo img:hover{
  transform:scale(1.08);
}

/* FINAL */
#final{
  display:none;
  position:fixed;
  width:100%;
  height:100%;
  background:rgba(0,0,0,0.9);
  display:flex;
  flex-direction: column;
  justify-content:center;
  align-items:center;
  text-align:center;
  z-index:1000;
  opacity:0;
  transition:opacity 1s ease;
  color:white;
}
#final h1{
  font-family:'Great Vibes';
  font-size:60px;
  margin-bottom:10px;
}
#final p{
  font-size:24px;
  margin-bottom:20px;
  color:white;
  opacity:0;
  transform:translateY(20px);
  transition: opacity 1.2s ease, transform 1.2s ease;
}
#promiseBtn{
  display:none;
  opacity:0;
  transition:opacity 1s ease;
}
</style>
</head>
<body>

<!-- Background Music -->
<audio id="bgMusic" src="audio/love-song.mp3" loop></audio>

<!-- Loading -->
<div id="loading">
  <div class="loader-heart">‚ù§Ô∏è</div>
  <p>Loading our love story...</p>
</div>

<!-- Game -->
<div id="game">
  <h2>Catch Me If You Can ‚ù§Ô∏è</h2>
  <p>Click it 3 times to unlock üíñ</p>
  <div id="gameArea">
    <button id="gameBtn">Yes I Love You ‚ù§Ô∏è</button>
  </div>
</div>

<!-- Main App -->
<div id="app">
  <div class="container">
    <div class="title">My Lab ‚ù§Ô∏è</div>

    <div class="section letter" id="letterText">
Happy 1st Anniversary Lab!!! ‚ù§Ô∏èüåπ

Lab, thank you gid for always being there for me. Sa tanan nga days nga pagod ako, stressed, o indi ko lang kaya, andyan ka gihapon. Even kung simple lang nga chat or tawag, enough na para maibsan ang kalipay ko. Ikaw ang safe place ko, ang pahinga ko, ang home ko sa midst sang chaos.

I love how we can laugh together, be silly together, and even fight sometimes pero at the end, we always come back sa isa‚Äôt isa. I love how you understand me, kahit di ko perfect, and I promise nga I‚Äôll always try my best for you. Lab, I want my future to be ours, full of small adventures, big dreams, quiet nights, and crazy moments.

Thinking about this past year, sobra gid ko grateful. From the first monthsary, when I was so thankful nga binigyan mo ako chance maging boyfriend mo kahit medyo bawal pa sa paningin sang iban, hasta sa second month where I realized you‚Äôre my pahinga sa tanan nga pagod ko, and sa third month when we learned to adjust sa busy lives ta‚Ä¶ every moment made me love you more. By the time we hit nine months, we had already proven that we can overcome ups and downs, always choosing each other kahit indi perpekto ang tanan.

Salamat gid sa patience mo, sa love mo, sa pagpili mo pirmi sa akon bisan may mga days nga indi ko ma-control feelings ko. Lab, ikaw ang world ko. Ikaw ang reason why I smile everyday. Ikaw lang gid ang gusto ko sa life ko.

Lab, I promise to continue choosing you every single day. I promise to protect you, take care of us, and cherish what we have bisan ano pa mangyari, bisan gaano pa ka challenging. Focus ta sa future, sa dreams ta, pero together gihapon, para sa future mo, para sa future naton.

Happy 1st Anniversary, mahal ko! ‚ù§Ô∏èüåπ Sa atin, walang sayang. Sa atin, lahat worth it. Ikaw lang. Always and forever üíò
    </div>

    <div class="section counter">
      üíû Loving you for:<br>
      <span id="days"></span>
    </div>

    <div class="section" style="text-align:center;">
      <button id="promiseBtn" onclick="showFinal()">My Promise ‚ù§Ô∏è</button>
    </div>

    <div class="section">
      <h3>Our Memories</h3>
      <div class="gallery" id="gallery"></div>
    </div>
  </div>
</div>

<!-- Final -->
<div id="final">
  <h1>Forever With You ‚ù§Ô∏è</h1>
  <p id="finalMessage"></p>
  <button onclick="location.reload()">Replay</button>
</div>

<script>
/* LOADING */
setTimeout(()=>{
  document.getElementById("loading").style.display="none";
  document.getElementById("game").style.display="flex";
},2500);


/* LOVE COUNTER */
const startDate = new Date("2024-02-21"); // Start of your relationship
const endDate = new Date("2026-02-21");   // Your anniversary date

// Calculate total days
const diffTime = endDate - startDate; 
const diffDays = Math.floor(diffTime / (1000 * 60 * 60 * 24)); // 730 days

// Calculate months
const months = 24; // 2 years = 24 months

document.getElementById("days").innerText = `${months} months / ${diffDays} days`;

/* GAME */
const gameBtn = document.getElementById("gameBtn");
const gameArea = document.getElementById("gameArea");
let clickCount = 0;
let escapeCount = 0;
const bgMusic = document.getElementById("bgMusic");

function moveBtn(){
  gameBtn.style.left = Math.random()*(gameArea.clientWidth-gameBtn.offsetWidth)+"px";
  gameBtn.style.top = Math.random()*(gameArea.clientHeight-gameBtn.offsetHeight)+"px";
  const scale = 0.8 + Math.random()*0.5;
  gameBtn.style.transform = `scale(${scale}) rotate(${Math.random()*20-10}deg)`;
  escapeCount++;
  gameBtn.style.transition = escapeCount > 5 ? "0.1s" : "0.25s";
}

gameBtn.addEventListener("mouseover", moveBtn);

gameBtn.addEventListener("click", ()=>{
  clickCount++;
  if(clickCount < 3){
    gameBtn.innerText = `Click me ${3-clickCount} more ‚ù§Ô∏è`;
    moveBtn();
    return;
  }
  document.getElementById("game").style.display="none";
  document.getElementById("app").style.display="flex";
  document.body.style.overflow="auto";
  startApp();
  bgMusic.play().catch(err=>console.log("Autoplay blocked, waiting for user interaction."));
});

/* START APP */
function startApp(){
  const letter=document.getElementById("letterText");
  const text=letter.innerText;
  letter.innerHTML="";
  let i=0;
  function type(){
    if(i<text.length){
      letter.innerHTML += text.charAt(i) === "\n" ? "<br>" : text.charAt(i);
      i++;
      setTimeout(type,25);
    } else {
      const btn = document.getElementById("promiseBtn");
      btn.style.display="inline-block";
      setTimeout(()=>{btn.style.opacity=1;},50);
    }
  }
  type();

  const gallery=document.getElementById("gallery");
  const totalPhotos=138;
  for(let i=1;i<=totalPhotos;i++){
    const div=document.createElement("div");
    div.className="photo";
    div.innerHTML=`<img src="images/photo${i}.jpg" loading="lazy">`;
    gallery.appendChild(div);
  }
  gallery.innerHTML+=gallery.innerHTML;

  let scrollPos=0;
  function autoScroll(){
    scrollPos+=0.5;
    if(scrollPos>=gallery.scrollWidth/2) scrollPos=0;
    gallery.scrollLeft=scrollPos;
    requestAnimationFrame(autoScroll);
  }
  autoScroll();
}

/* FINAL */
function showFinal(){
  const final = document.getElementById("final");
  const message = document.getElementById("finalMessage");
  message.innerText = "I will stay with you forever. No matter what happens, I'm always with you. ‚ù§Ô∏è";
  final.style.display = "flex";
  setTimeout(()=>{final.style.opacity=1;},50);
  setTimeout(()=>{message.style.opacity=1; message.style.transform="translateY(0)";},400);
  setInterval(createHeart,300);
}

function createHeart(){
  const heart=document.createElement("div");
  heart.innerText="‚ù§Ô∏è";
  heart.style.position="fixed";
  heart.style.fontSize=Math.random()*24+16+"px";
  heart.style.left=Math.random()*window.innerWidth+"px";
  heart.style.top="-50px";
  heart.style.pointerEvents="none";
  heart.style.zIndex=1000;
  heart.style.opacity=Math.random()*0.7+0.3;
  document.body.appendChild(heart);
  let speed=Math.random()*2+1;
  let rotate=Math.random()*360;
  function fall(){
    let top=parseFloat(heart.style.top);
    if(top<window.innerHeight){
      heart.style.top=top+speed+"px";
      heart.style.transform=`rotate(${rotate}deg)`;
      rotate+=2;
      requestAnimationFrame(fall);
    } else heart.remove();
  }
  fall();
}
</script>

</body>
</html>